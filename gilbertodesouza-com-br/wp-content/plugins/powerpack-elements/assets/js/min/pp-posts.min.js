!function(y){var k=!0,b=1,n="",x=0;var t=function(n,o){var t,e,i,a,p,s,d,r=n.find(".pp-posts-container"),l=n.find(".pp-posts"),f=n.find(".pp-posts").data("layout"),c=n.find(".pp-post-filters-container").data("search-form"),u=n.find(".pp-search-form-input"),h=n.find(".pp-post-filters-container").data("search-action"),m=n.find(".pp-posts-loader"),g=n.find(".pp-post-filters"),v=n.find(".pp-post-filters-dropdown"),w=n.find(".pp-coupons");function _(){var t=elementorFrontend.config.breakpoints,p=0,e="auto";n.find(".pp-post-wrap").each(function(){o(this).find(".pp-post-content").outerHeight()>p&&(p=o(this).find(".pp-post-content").outerHeight())}),o(window).width()>=t.md&&(e=p),n.find(".pp-post-wrap").css("height",e)}"masonry"==f&&n.imagesLoaded(function(t){l.isotope({layoutMode:f,itemSelector:".pp-grid-item-wrap"})}),C(n,1),g.find(".pp-post-filter").off("click").on("click",function(){var t;o(this).siblings().removeClass("pp-filter-current"),o(this).addClass("pp-filter-current"),b=1,0<v.length&&(t=o(this).data("filter"),v.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),v.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),v.find(".pp-post-filters-dropdown-button").html(o(this).html())),0<w.length?$(n,o(this),"coupon"):$(n,o(this),"")}),v.find(".pp-post-filters-dropdown-button").on("click",function(){v.find(".pp-post-filters-dropdown-list").toggle()}),v.find(".pp-post-filters-dropdown-item").off("click").on("click",function(){o(this).siblings().removeClass("pp-filter-current"),o(this).addClass("pp-filter-current"),v.find(".pp-post-filters-dropdown-list").hide(),v.find(".pp-post-filters-dropdown-button").html(o(this).html()),b=1;var t=o(this).data("filter");g.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),g.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),0<w.length?$(n,o(this),"coupon"):$(n,o(this),"")}),(0<g.length||0<v.length)&&(""!==location.hash&&(t=location.hash.split("#")[1],g.find('li[data-filter=".'+t+'"]').trigger("click"),0<v.length&&v.find('li[data-filter=".'+t+'"]').trigger("click")),o(window).on("hashchange",function(){var t;""!==location.hash&&(t=location.hash.split("#")[1],g.find('li[data-filter=".'+t+'"]').trigger("click"),0<v.length&&v.find('li[data-filter=".'+t+'"]').trigger("click"))})),"show"==c&&(u.on({focus:function(){n.find(".pp-search-form").addClass("pp-search-form-focus")},blur:function(){n.find(".pp-search-form").removeClass("pp-search-form-focus")}}),"instant"==h?n.find(".pp-search-form-input").keyup((e=function(){j(n,o(this))},i=i||100,function(){clearTimeout(a);var t=arguments,p=this;a=setTimeout(function(){e.apply(p,t)},i)})):"button-click"==h&&n.find(".pp-search-form-submit").on("click",function(){j(n,o(this))})),r.find(".pp-posts").hasClass("pp-posts-skin-checkerboard")&&n.hasClass("pp-equal-height-yes")&&r.find(".pp-posts").hasClass("pp-posts-height-auto")&&(o(_),o(window).resize(_)),(r.hasClass("pp-posts-infinite-scroll")||w.hasClass("pp-coupons-infinite-scroll"))&&(p=jQuery(window).outerHeight()/1.25,o(window).scroll(function(){return elementorFrontend.isEditMode()?(m.show(),!1):void(w.hasClass("pp-coupons-infinite-scroll")?o(window).scrollTop()+p>=n.find(".pp-coupons-grid-wrapper:last").offset().top&&(t={page_id:n.find(".pp-coupons-grid-wrapper").data("page"),widget_id:n.data("id"),filter:n.find(".pp-filter-current").data("filter"),taxonomy:n.find(".pp-filter-current").data("taxonomy"),skin:n.find(".pp-coupons-grid-wrapper").data("skin"),page_number:n.find(".page-numbers.current").next("a").html(),ajax_for:"coupon"},x=n.find(".pp-posts-pagination").data("total"),1==k&&b<x&&(m.show(),F(n,t,!0),b++,k=!1)):o(window).scrollTop()+p>=n.find(".pp-post:last").offset().top&&(t={page_id:n.find(".pp-posts").data("page"),widget_id:n.data("id"),filter:n.find(".pp-filter-current").data("filter"),taxonomy:n.find(".pp-filter-current").data("taxonomy"),skin:n.find(".pp-posts").data("skin"),page_number:n.find(".pp-posts-pagination .current").next("a").html(),ajax_for:""},x=n.find(".pp-posts-pagination").data("total"),1==k&&b<x&&(m.show(),F(n,t,!0),b++,k=!1)));var t})),"carousel"==f&&(s=n.find(".pp-posts-carousel").eq(0),d=JSON.parse(s.attr("data-slider-settings")),0<s.length&&n.imagesLoaded(function(){s.slick(d)}),o(s).on("setPosition",function(){var t,p,e,o,i,a;p=(t=n).find(".pp-posts-carousel"),e=t.find(".pp-post-wrap"),o=t.find(".slick-active"),a=i=-1,"yes"==p.data("equal-height")&&(o.each(function(){var t=y(this).find(".pp-post").outerHeight();i<t&&(a=(i=t)+10)}),o.each(function(){y(this).find(".pp-post").animate({height:i},{duration:200,easing:"linear"})}),t.find(".slick-list.draggable").animate({height:a},{duration:200,easing:"linear"}),i=-1,e.each(function(){var t=jQuery(this),p=t.find(".pp-post"),e=p.outerHeight();if(t.hasClass("slick-active"))return!0;p.css("height",e)}))}))};function s(t){return t.find(".pp-post-load-more").data("count")}function C(t,p){t.find(".pp-post-load-more").attr("data-count",p)}y(document).on("click",".pp-post-load-more",function(t){$scope=y(this).closest(".elementor-widget-pp-posts"),n=$scope.find(".pp-posts-loader");var p,e,o,i,a=y(this).closest(".elementor-widget-pp-coupons");if(coupon_loader=a.find(".pp-posts-loader"),t.preventDefault(),elementorFrontend.isEditMode())return n.show(),coupon_loader.show(),!1;0<a.length?(p=s(a),e=a.find(".pp-filter-current").data("filter"),o=a.find(".pp-filter-current").data("taxonomy"),i={page_id:a.find(".pp-coupons-grid-wrapper").data("page"),widget_id:a.data("id"),filter:e||"",taxonomy:o||"",page_number:p+1,ajax_for:"coupon"},x=a.find(".pp-posts-pagination").data("total"),1==k&&p<x&&(coupon_loader.show(),y(this).hide(),F(a,i,!0,p),p++,k=!1)):(p=s($scope),e=$scope.find(".pp-filter-current").data("filter"),o=$scope.find(".pp-filter-current").data("taxonomy"),i={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:e||"",taxonomy:o||"",skin:$scope.find(".pp-posts").data("skin"),page_number:p+1,ajax_for:""},x=$scope.find(".pp-posts-pagination").data("total"),1==k&&p<x&&(n.show(),y(this).hide(),F($scope,i,!0,p),p++,k=!1))}),y("body").on("click",".pp-posts-pagination-ajax .page-numbers",function(t){$scope=y(this).closest(".elementor-widget-pp-posts");var p,e,o,i=y(this).closest(".elementor-widget-pp-coupons");"main"!=$scope.find(".pp-posts").data("query-type")&&(t.preventDefault(),0<i.length?(i.find(".pp-coupons-grid-wrapper .pp-coupon").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),p=1,e=parseInt(i.find(".pp-posts-pagination .page-numbers.current").html()),p=y(this).hasClass("next")?e+1:y(this).hasClass("prev")?e-1:y(this).html(),o={page_id:i.find(".pp-coupons-grid-wrapper").data("page"),widget_id:i.data("id"),filter:i.find(".pp-filter-current").data("filter"),taxonomy:i.find(".pp-filter-current").data("taxonomy"),page_number:p,ajax_for:"coupon"},y("html, body").animate({scrollTop:i.find(".pp-coupons-wrap").offset().top-30},"slow"),F(i,o)):($scope.find(".pp-posts .pp-post").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),p=1,e=parseInt($scope.find(".pp-posts-pagination .page-numbers.current").html()),p=y(this).hasClass("next")?e+1:y(this).hasClass("prev")?e-1:y(this).html(),o={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".pp-filter-current").data("filter"),taxonomy:$scope.find(".pp-filter-current").data("taxonomy"),skin:$scope.find(".pp-posts").data("skin"),page_number:p,ajax_for:""},y("html, body").animate({scrollTop:$scope.find(".pp-posts-container").offset().top-30},"slow"),F($scope,o)))});var $=function(t,p,e){p="coupon"===e?(t.find(".pp-coupons-grid-wrapper .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-coupons-grid-wrapper").data("page"),widget_id:t.data("id"),filter:p.data("filter"),taxonomy:p.data("taxonomy"),page_number:1,ajax_for:"coupon"}):(t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),filter:p.data("filter"),taxonomy:p.data("taxonomy"),skin:t.find(".pp-posts").data("skin"),page_number:1,ajax_for:""}),F(t,p)},j=function(t,p){t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var e={page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),search:t.find(".pp-search-form-input").val(),page_number:1};F(t,e)},F=function(n,s,d,r){var l=n.find(".pp-posts-loader");y.ajax({url:pp_posts_script.ajax_url,data:{action:"pp_get_post",page_id:s.page_id,widget_id:s.widget_id,category:s.filter,search:s.search,taxonomy:s.taxonomy,skin:s.skin,page_number:s.page_number,ajax_for:s.ajax_for,nonce:pp_posts_script.posts_nonce},dataType:"json",type:"POST",success:function(t){var p,e,o,i,a;k=("coupon"===s.ajax_for?(p=n.find(".pp-coupons-grid-wrapper"),(e=n.find(".pp-posts-empty")).remove(),0==y(e).length&&y(t.data.not_found).insertBefore(p),1==d?(o=t.data.html,p.append(o)):p.html(t.data.html),n.find(".pp-posts-pagination-wrap").html(t.data.pagination)):(p=n.find(".pp-posts"),(e=n.find(".pp-posts-empty")).remove(),0==y(e).length&&y(t.data.not_found).insertBefore(p),1==d?(o=t.data.html,p.append(o)):p.html(t.data.html),n.find(".pp-posts-pagination-wrap").html(t.data.pagination),i=n.find(".pp-posts").data("layout"),a=n.find(".pp-posts"),"masonry"==i&&n.imagesLoaded(function(){a.isotope("reloadItems"),a.isotope({layoutMode:i,itemSelector:".pp-grid-item-wrap"})})),!0),1==d&&(l.hide(),n.find(".pp-post-load-more").show()),C(n,s.page_number),(r+=1)==x&&n.find(".pp-post-load-more").hide(),n.trigger("posts.rendered")}}),setTimeout(()=>{0<n.find(".elementor-invisible").length&&n.find(".elementor-invisible").removeClass("elementor-invisible")},1e3)};y(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.classic",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.card",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.checkerboard",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.creative",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.event",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.news",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.portfolio",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.overlap",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.template",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-coupons.default",t)})}(jQuery);